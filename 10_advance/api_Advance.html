<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API With Ajax</title>
</head>
<body style="background-color: #212121; color: #fff;">

| Value |     State              |          Meaning                                     |
| ----- | ------------------ | -------------------------------------------------------- |
| **0** | `UNSENT`           | Request object created but not opened yet.               |
| **1** | `OPENED`           | `open()` has been called, but request not sent.          |
| **2** | `HEADERS_RECEIVED` | `send()` has been called, server responded with headers. |
| **3** | `LOADING`          | Response body is being received (data is downloading).   |
| **4** | `DONE`             | Request is finished, response is ready.                  |

</body>
<script>
    // 👉 Step 1: The URL we want to fetch (GitHub API gives user info in JSON)
    const requestUrl  = 'https://api.github.com/users/hiteshchoudhary';

    // 👉 Step 2: Create a new request object
    // Think of this like a “phone” we’ll use to talk to the server
    const xhr = new XMLHttpRequest();

    // 👉 Step 3: Prepare the request
    // open(method, url) = just telling WHAT we want (GET) and WHERE from (URL)
    // Till now we haven't sent anything, just dialed the number 😅
    xhr.open('GET', requestUrl);

    // 👉 Step 4: This function runs again and again when state changes
    // readyState goes like → 0 (created) → 1 (opened) → 2 (headers) → 3 (loading) → 4 (done)
    xhr.onreadystatechange = function(){    
        console.log(xhr.readyState); // just tracking progress in console

        // 👉 Step 5: Check when request is DONE (4 = finished)
        if (xhr.readyState === 4) {
            
            // 👉 Step 6: By default, response comes as STRING
            // Example: '{"login":"hiteshchoudhary","followers":12345}' (looks like object, but it’s text)
            // So we use JSON.parse() → convert that string into a real object
            const data = JSON.parse(this.responseText);

            // 👉 Step 7: Now typeof is "object" (so we can use dot notation)
            console.log(typeof data);  // outputs: object

            // 👉 Step 8: Access a property from that object → followers count
            console.log(data.followers); 
        }
    }

    // 👉 Step 9: Send the request to server 🚀
    // This is like pressing the “call” button after dialing the number.
    xhr.send();
</script>

</html>